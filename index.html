<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Realidade Emergente - Blog de Filosofia e CiÃªncia</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 30px;
        }

        .main-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header {
            text-align: center;
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 2px solid #eee;
        }

        .header h1 {
            font-size: 3em;
            color: #2c3e50;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.3em;
            color: #7f8c8d;
            font-style: italic;
        }

        .article {
            margin-bottom: 40px;
            background: #fff;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            border-left: 4px solid #3498db;
            transition: all 0.3s ease;
        }

        .article:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }

        .article-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .article-author {
            font-weight: 600;
            color: #3498db;
        }

        .article-category {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 500;
        }

        .article-time {
            color: #7f8c8d;
            font-size: 0.9em;
        }

        .article h2 {
            font-size: 1.8em;
            color: #2c3e50;
            margin-bottom: 15px;
            line-height: 1.3;
        }

        .article-abstract {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 3px solid #3498db;
        }

        .article-abstract h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .article p {
            color: #555;
            margin-bottom: 15px;
            text-align: justify;
        }

        .read-more {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin-top: 15px;
        }

        .read-more:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(52, 152, 219, 0.3);
        }

        .article-content {
            display: none;
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px solid #eee;
            animation: fadeIn 0.5s ease-in;
        }

        .article-content.expanded {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .sidebar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            height: fit-content;
            position: sticky;
            top: 20px;
        }

        .author-section {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 25px;
            border-bottom: 2px solid #eee;
        }

        .author-avatar {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            color: white;
            font-size: 2em;
            font-weight: bold;
        }

        .author-welcome {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 3px solid #27ae60;
        }

        .author-welcome h3 {
            color: #27ae60;
            margin-bottom: 10px;
        }

        .author-quote {
            font-style: italic;
            color: #666;
            text-align: center;
            margin: 15px 0;
            padding: 15px;
            background: #f1f2f6;
            border-radius: 8px;
            border-left: 3px solid #667eea;
        }

        .recent-posts h3, .categories h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .recent-posts ul, .categories ul {
            list-style: none;
        }

        .recent-posts li, .categories li {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .recent-posts a, .categories a {
            color: #3498db;
            text-decoration: none;
            transition: all 0.3s ease;
            display: block;
            padding: 5px 0;
            border-radius: 4px;
        }

        .recent-posts a:hover, .categories a:hover {
            color: #2980b9;
            background: rgba(52, 152, 219, 0.1);
            padding-left: 10px;
            transform: translateX(5px);
        }

        .recent-posts a:active, .categories a:active {
            background: rgba(52, 152, 219, 0.2);
        }

        .article.filtered-out {
            opacity: 0.3;
            transform: scale(0.95);
            pointer-events: none;
        }

        .category-highlight {
            background: linear-gradient(45deg, #f39c12, #e67e22);
            color: white !important;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.9em;
        }

        .add-post {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            border-radius: 50%;
            border: none;
            color: white;
            font-size: 2em;
            cursor: not-allowed;
            box-shadow: 0 8px 25px rgba(231, 76, 60, 0.3);
            transition: all 0.3s ease;
        }

        .add-post[disabled] {
            opacity: 0.6;
        }

        .article-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 25px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            border: 1px solid #e9ecef;
        }

        .social-buttons {
            display: flex;
            gap: 15px;
        }

        .social-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .like-btn {
            background: #fff;
            color: #e74c3c;
            border: 2px solid #e74c3c;
        }

        .like-btn:hover, .like-btn.liked {
            background: #e74c3c;
            color: white;
        }

        .share-btn {
            background: #3498db;
            color: white;
        }

        .share-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .comment-btn {
            background: #9b59b6;
            color: white;
        }

        .comment-btn:hover {
            background: #8e44ad;
        }

        .article-stats {
            display: flex;
            gap: 20px;
            color: #7f8c8d;
            font-size: 0.9em;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .comments-section {
            margin-top: 30px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 12px;
            border-left: 4px solid #3498db;
            display: none;
        }

        .comments-section.visible {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        .comment-form {
            margin-bottom: 25px;
        }

        .comment-form textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            resize: vertical;
            min-height: 100px;
            font-family: inherit;
        }

        .comment-form textarea:focus {
            outline: none;
            border-color: #3498db;
        }

        .comment-form button {
            margin-top: 10px;
            padding: 10px 20px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
        }

        .comment-form button:hover {
            background: #2980b9;
        }

        .comment {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 3px solid #3498db;
        }

        .comment-author {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .comment-time {
            font-size: 0.8em;
            color: #7f8c8d;
            margin-bottom: 10px;
        }

        .research-submission {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .submission-form {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
            font-size: 1em;
        }

        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-family: inherit;
        }

        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            outline: none;
            border-color: #3498db;
        }

        .form-group input:invalid,
        .form-group textarea:invalid {
            border-color: #e74c3c;
        }

        .submit-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .community-submissions {
            margin-top: 30px;
        }

        .submission-item {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            border-left: 4px solid #27ae60;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .submission-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .submission-meta {
            display: flex;
            gap: 15px;
            color: #7f8c8d;
            font-size: 0.9em;
            margin-bottom: 12px;
        }

        .submission-description {
            color: #555;
            line-height: 1.6;
            margin-bottom: 12px;
        }

        .submission-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tag {
            background: #ecf0f1;
            color: #2c3e50;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8em;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #27ae60;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            display: none;
            z-index: 1001;
        }

        .notification.show {
            display: block;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .section-heading {
            color: #2c3e50;
            font-size: 1.4em;
            margin: 30px 0 15px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498db;
        }

        .subsection-heading {
            color: #34495e;
            font-size: 1.2em;
            margin: 25px 0 10px 0;
            font-weight: 600;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: #fff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .data-table th, .data-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .data-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2c3e50;
        }

        .data-table tr:last-child td {
            border-bottom: none;
        }

        .methodology-note {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }

        .methodology-note h4 {
            color: #856404;
            margin-bottom: 8px;
        }

        .limitations {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }

        .limitations h4 {
            color: #721c24;
            margin-bottom: 8px;
        }

        .references {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }

        .references h4 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .references ol {
            padding-left: 25px !important;
            margin: 15px 0 !important;
            counter-reset: ref-counter;
        }

        .references li {
            margin-bottom: 12px !important;
            font-size: 0.9em !important;
            line-height: 1.5 !important;
            display: list-item !important;
            list-style: decimal !important;
            counter-increment: ref-counter;
            text-align: left !important;
        }

        .references ol li::marker {
            font-weight: bold;
            color: #3498db;
        }

        .ai-helper-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .ai-helper-section h3 {
            color: white;
            margin-bottom: 20px;
            font-size: 1.5em;
            text-align: center;
        }

        .prompt-box {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.4;
            position: relative;
            backdrop-filter: blur(10px);
        }

        .copy-prompt-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8em;
            transition: all 0.3s ease;
        }

        .copy-prompt-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .ai-tips {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        .ai-tips h4 {
            color: #ffffff;
            margin-bottom: 10px;
        }

        .ai-tips ul {
            list-style: none;
            padding-left: 0;
        }

        .ai-tips li {
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }

        .ai-tips li:before {
            content: "ð¤";
            position: absolute;
            left: 0;
        }

        .preview-modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }

        .preview-modal-content {
            background-color: white;
            margin: 2vh auto;
            padding: 0;
            border-radius: 15px;
            width: 95%;
            max-width: 1200px;
            height: 96vh;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .preview-header {
            padding: 20px 30px;
            border-bottom: 2px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f8f9fa;
            border-radius: 15px 15px 0 0;
            flex-shrink: 0;
            min-height: 70px;
        }

        .preview-header h3 {
            margin: 0;
            color: #2c3e50;
            font-size: 1.3em;
            font-weight: 600;
            max-width: 70%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .preview-content {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
            min-height: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: white;
            position: relative;
        }

        .preview-content::-webkit-scrollbar {
            width: 12px;
        }

        .preview-content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 6px;
        }

        .preview-content::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 6px;
            border: 2px solid #f1f1f1;
        }

        .preview-content::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }

        .preview-actions {
            padding: 20px 30px;
            border-top: 2px solid #eee;
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            background: #f8f9fa;
            border-radius: 0 0 15px 15px;
            flex-shrink: 0;
            min-height: 80px;
            align-items: center;
        }

        .preview-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 1em;
            min-width: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .preview-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .preview-btn.approve {
            background: #28a745;
            color: white;
        }

        .preview-btn.approve:hover {
            background: #218838;
        }

        .preview-btn.reject {
            background: #dc3545;
            color: white;
        }

        .preview-btn.reject:hover {
            background: #c82333;
        }

        .preview-btn.close {
            background: #6c757d;
            color: white;
        }

        .preview-btn.close:hover {
            background: #5a6268;
        }

        .submission-pending {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            border-left: 4px solid #f39c12;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .submission-pending:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .submission-pending .submission-meta {
            display: flex;
            gap: 20px;
            color: #7f8c8d;
            font-size: 0.9em;
            margin-bottom: 12px;
            flex-wrap: wrap;
        }

        .submission-pending .submission-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .submission-pending .submission-actions button {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .submission-pending .btn-preview {
            background: #3498db;
            color: white;
        }

        .submission-pending .btn-approve {
            background: #27ae60;
            color: white;
        }

        .submission-pending .btn-reject {
            background: #e74c3c;
            color: white;
        }

        .submission-pending .btn-preview:hover {
            background: #2980b9;
            transform: translateY(-1px);
        }

        .submission-pending .btn-approve:hover {
            background: #219a52;
            transform: translateY(-1px);
        }

        .submission-pending .btn-reject:hover {
            background: #c0392b;
            transform: translateY(-1px);
        }

        .moderator-mode {
            position: fixed;
            bottom: 30px;
            left: 30px;
            background: linear-gradient(45deg, #8e44ad, #9b59b6);
            color: white;
            padding: 10px 15px;
            border-radius: 25px;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(142, 68, 173, 0.3);
            transition: all 0.3s ease;
            font-size: 0.9em;
            z-index: 999;
        }

        .moderator-mode:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(142, 68, 173, 0.4);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: white;
            margin: 3% auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 900px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            max-height: 90vh;
            overflow-y: auto;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            line-height: 1;
        }

        .close:hover {
            color: #000;
        }

        .rendered-content h1 {
            font-size: 2.2em;
            color: #2c3e50;
            margin: 30px 0 20px 0;
            line-height: 1.3;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }

        .rendered-content h2 {
            color: #2c3e50;
            font-size: 1.6em;
            margin: 25px 0 15px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498db;
        }

        .rendered-content h3 {
            color: #34495e;
            font-size: 1.3em;
            margin: 20px 0 10px 0;
            font-weight: 600;
        }

        .rendered-content h4 {
            color: #34495e;
            font-size: 1.1em;
            margin: 18px 0 8px 0;
            font-weight: 600;
        }

        .rendered-content p {
            margin: 15px 0;
            line-height: 1.6;
            text-align: justify;
            color: #333;
        }

        .rendered-content strong {
            color: #2c3e50;
            font-weight: 600;
        }

        .rendered-content em {
            color: #555;
            font-style: italic;
        }

        .rendered-content blockquote {
            border-left: 4px solid #3498db;
            padding: 15px 20px;
            margin: 20px 0;
            background: #f8f9fa;
            border-radius: 5px;
            color: #666;
            font-style: italic;
        }

        .rendered-content ul, .rendered-content ol {
            margin: 15px 0;
            padding-left: 25px;
            line-height: 1.6;
        }

        .rendered-content li {
            margin-bottom: 8px;
        }

        .rendered-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: #fff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .rendered-content table th,
        .rendered-content table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .rendered-content table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2c3e50;
        }

        .rendered-content table tr:last-child td {
            border-bottom: none;
        }

        button[aria-label] {
            outline: none;
        }

        button:focus {
            outline: 2px solid #3498db;
            outline-offset: 2px;
        }

        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
                padding: 10px;
            }

            .main-content {
                padding: 20px;
            }

            .header h1 {
                font-size: 2em;
            }

            .add-post {
                bottom: 20px;
                right: 20px;
            }

            .preview-modal-content {
                width: 98%;
                height: 98vh;
                margin: 1vh auto;
            }

            .preview-content {
                padding: 20px;
            }

            .preview-actions {
                padding: 15px 20px;
                flex-wrap: wrap;
                justify-content: center;
            }

            .preview-btn {
                min-width: 100px;
                font-size: 0.9em;
                padding: 10px 16px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <main class="main-content">
            <header class="header">
                <h1>Realidade Emergente</h1>
                <p>Filosofia, CiÃªncia e Epistemologia Participativa</p>
            </header>

            <!-- Container para artigos dinÃ¢micos -->
            <div id="articles-container">
                <div style="text-align: center; color: #7f8c8d; padding: 40px; font-style: italic;">
                    <h4 style="color: #34495e; margin-bottom: 15px;">Nenhum artigo publicado ainda</h4>
                    <p>Submeta seu artigo ou ideia de pesquisa para comeÃ§ar a construir nosso banco de conhecimento colaborativo!</p>
                </div>
            </div>

            <!-- SeÃ§Ã£o de Guia para CriaÃ§Ã£o de Artigos com IA -->
            <div class="ai-helper-section">
                <h3>ð¤ Crie Artigos AcadÃªmicos com IA - Guia Completo</h3>

                <div class="ai-tips">
                    <h4>ð¯ Como Usar IA para Criar Artigos para Este Blog</h4>
                    <p>A epistemologia participativa em aÃ§Ã£o! Use inteligÃªncia artificial para criar artigos acadÃªmicos rigorosos e prontos para publicaÃ§Ã£o. Aqui estÃ¡ tudo que vocÃª precisa saber:</p>
                </div>

                <div class="ai-tips">
                    <h4>ð Prompt PadrÃ£o Pronto para Copiar</h4>
                    <p>Copie o prompt abaixo e cole na sua IA preferida (Claude, ChatGPT, Gemini, Deepseek, Manus, etc.) para criar artigos compatÃ­veis com o blog:</p>
                </div>

                <div class="prompt-box">
                    <button class="copy-prompt-btn" onclick="copyPrompt()" aria-label="Copiar prompt para criaÃ§Ã£o de artigos">ð Copiar</button>
                    <div id="ai-prompt">
**INSTRUÃÃO PARA CRIAÃÃO DE ARTIGO ACADÃMICO**

VocÃª Ã© um pesquisador especializado criando um artigo para o blog "Realidade Emergente" - um espaÃ§o dedicado Ã  epistemologia participativa, filosofia da mente, neurociÃªncia e filosofia da ciÃªncia.

**ESTRUTURA OBRIGATÃRIA EM MARKDOWN:**

```markdown
# [TÃ­tulo do Artigo]

**Categoria:** [Epistemologia/Filosofia da Mente/Filosofia da CiÃªncia/NeurociÃªncia/Interdisciplinar]
**Tempo de leitura:** [X min]
**Autor:** [Autor principal]
**Coautores:** [Outros autores, se houver - separados por vÃ­rgula]

## Resumo
[ParÃ¡grafo de 100-150 palavras resumindo o artigo, metodologia e principais conclusÃµes]

## IntroduÃ§Ã£o
[2-3 parÃ¡grafos introduzindo o problema, contexto histÃ³rico e relevÃ¢ncia atual]

## 1. [SeÃ§Ã£o Principal 1]
### 1.1 [SubseÃ§Ã£o]
[ConteÃºdo com citaÃ§Ãµes e evidÃªncias]

### 1.2 [SubseÃ§Ã£o]
[Para tabelas, use o formato markdown correto:]

| Coluna 1 | Coluna 2 | Coluna 3 |
|----------|----------|----------|
| Dados 1  | Dados 2  | Dados 3  |
| Dados 4  | Dados 5  | Dados 6  |

## 2. [SeÃ§Ã£o Principal 2]
[Continue a estrutura...]

## 3. [SeÃ§Ã£o Principal 3]
[AnÃ¡lise crÃ­tica, limitaÃ§Ãµes, discussÃ£o]

### Nota MetodolÃ³gica
> **Metodologia:** [Explicar abordagem utilizada]

### LimitaÃ§Ãµes e ConsideraÃ§Ãµes CrÃ­ticas
> **LimitaÃ§Ãµes:** [Reconhecer limitaÃ§Ãµes do trabalho]

## ConclusÃ£o
[SÃ­ntese dos achados, implicaÃ§Ãµes e direÃ§Ãµes futuras]

## ReferÃªncias
1. [Formato APA completo]
2. [MÃ­nimo 15 referÃªncias acadÃªmicas]
```

**REQUISITOS ESPECÃFICOS:**

- Rigor acadÃªmico: use citaÃ§Ãµes reais e precisas
- Interdisciplinaridade: conecte filosofia com evidÃªncias empÃ­ricas
- ExtensÃ£o: 3.000-5.000 palavras
- Tom: acadÃªmico mas acessÃ­vel
- Foco: epistemologia participativa, IA, consciÃªncia, ou filosofia da ciÃªncia
- Inclua pelo menos 1 tabela (usando formato markdown correto) e 1 seÃ§Ã£o de limitaÃ§Ãµes
- Use evidÃªncias empÃ­ricas quando possÃ­vel
- Se houver mÃºltiplos autores, liste em "Coautores"

**TÃPICOS SUGERIDOS:**

- IA e transformaÃ§Ã£o epistemolÃ³gica
- NeurociÃªncia da consciÃªncia e filosofia
- CiÃªncia aberta e democratizaÃ§Ã£o do conhecimento
- Filosofia experimental e evidÃªncias empÃ­ricas
- CogniÃ§Ã£o estendida e tecnologia
- Ãtica da IA e moralidade
- Realismo cientÃ­fico contemporÃ¢neo

**IMPORTANTE PARA TABELAS:**
Use EXATAMENTE este formato para tabelas funcionarem corretamente:
```
| CabeÃ§alho 1 | CabeÃ§alho 2 | CabeÃ§alho 3 |
|-------------|-------------|-------------|
| Linha 1 Col 1 | Linha 1 Col 2 | Linha 1 Col 3 |
| Linha 2 Col 1 | Linha 2 Col 2 | Linha 2 Col 3 |
```

Crie um artigo seguindo EXATAMENTE esta estrutura markdown. Seja rigoroso, original e cite fontes reais.
                    </div>
                </div>

                <div class="ai-tips">
                    <h4>ð ï¸ InstruÃ§Ãµes Passo a Passo</h4>
                    <ul>
                        <li>Copie o prompt acima e cole na sua IA</li>
                        <li>Adicione o tÃ³pico especÃ­fico que deseja abordar</li>
                        <li>A IA gerarÃ¡ um artigo em markdown pronto para uso</li>
                        <li>Revise o conteÃºdo e faÃ§a ajustes se necessÃ¡rio</li>
                        <li>Submeta o arquivo .md ou cole o texto no formulÃ¡rio abaixo</li>
                    </ul>
                </div>

                <div class="ai-tips">
                    <h4>ð¡ Dicas Importantes</h4>
                    <ul>
                        <li>Use IAs como Claude-3, ChatGPT, Gemini, Deepseek ou Manus para melhores resultados</li>
                        <li>Seja especÃ­fico sobre o tema que deseja abordar</li>
                        <li>PeÃ§a para verificar as citaÃ§Ãµes e referÃªncias</li>
                        <li>Solicite revisÃ£o da estrutura se algo estiver faltando</li>
                        <li>O markdown facilita a formataÃ§Ã£o automÃ¡tica no blog</li>
                    </ul>
                </div>
            </div>

            <!-- SeÃ§Ã£o de SubmissÃ£o de Artigos com Markdown -->
            <div class="research-submission">
                <h2 style="color: #2c3e50; margin-bottom: 20px; text-align: center;">ð SubmissÃ£o de Artigos AcadÃªmicos</h2>
                <p style="text-align: center; color: #555; margin-bottom: 30px;">Compartilhe seu artigo criado com IA ou trabalho prÃ³prio usando um arquivo Markdown (.md) ou colando o texto diretamente!</p>

                <div class="submission-form">
                    <h3 style="color: #667eea; margin-bottom: 20px;">âï¸ Criar Artigo com Markdown</h3>
                    <form id="markdown-form">
                        <div class="form-group">
                            <label for="article-file">Carregar arquivo Markdown (.md):</label>
                            <input type="file" id="article-file" accept=".md" aria-label="Carregar arquivo Markdown">
                            <small style="color: #666; font-size: 0.9em;">Ou cole o texto Markdown abaixo</small>
                        </div>
                        <div class="form-group">
                            <label for="article-markdown">Cole seu artigo em Markdown (opcional):</label>
                            <textarea id="article-markdown" rows="20" placeholder="Cole aqui o artigo criado pela IA em formato Markdown...
Exemplo:
# TÃ­tulo do Artigo
**Categoria:** Filosofia da Mente
**Tempo de leitura:** 15 min
**Autor:** Seu Nome
## Resumo
Seu resumo aqui...
## IntroduÃ§Ã£o
Seu artigo aqui..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="article-category">Categoria Principal:</label>
                            <select id="article-category" required>
                                <option>Epistemologia</option>
                                <option>Filosofia da Mente</option>
                                <option>Filosofia da CiÃªncia</option>
                                <option>NeurociÃªncia</option>
                                <option>InteligÃªncia Artificial</option>
                                <option>Interdisciplinar</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="article-tags">Tags/Palavras-chave:</label>
                            <input type="text" id="article-tags" placeholder="IA, consciÃªncia, epistemologia, neurociÃªncia (separadas por vÃ­rgula)">
                        </div>
                        <div class="form-group">
                            <label for="additional-authors">Autores Adicionais (opcional):</label>
                            <input type="text" id="additional-authors" placeholder="Coautores separados por vÃ­rgula (ex: JoÃ£o Silva, Maria Santos)">
                            <small style="color: #666; font-size: 0.9em;">Se houver mais de um autor, liste os demais aqui</small>
                        </div>
                        <div class="form-group">
                            <label for="submission-notes">Notas sobre a submissÃ£o (opcional):</label>
                            <textarea id="submission-notes" rows="3" placeholder="Processo de criaÃ§Ã£o, IA utilizada, motivaÃ§Ã£o para o artigo, etc."></textarea>
                            <small style="color: #666; font-size: 0.9em;">Esta nota serÃ¡ incluÃ­da como primeiro comentÃ¡rio se o artigo for aprovado</small>
                        </div>
                        <button type="button" onclick="showPreview()" class="submit-btn" style="background: #f39c12; margin-right: 15px;" aria-label="Visualizar artigo antes de submeter">ðï¸ Ver Preview</button>
                        <button type="submit" class="submit-btn" aria-label="Submeter artigo para revisÃ£o">ð Submeter Artigo</button>
                    </form>
                </div>

                <div class="submission-form" style="margin-top: 30px;">
                    <h3 style="color: #27ae60; margin-bottom: 20px;">ð¡ Propor Ideia de Pesquisa</h3>
                    <form id="research-form">
                        <div class="form-group">
                            <label for="research-title">TÃ­tulo/Problema de Pesquisa:</label>
                            <input type="text" id="research-title" placeholder="Ex: Impacto da IA na formaÃ§Ã£o de crenÃ§as polÃ­ticas em redes sociais" required>
                        </div>
                        <div class="form-group">
                            <label for="research-field">Ãrea/Campo:</label>
                            <select id="research-field" required>
                                <option>Filosofia da Mente</option>
                                <option>NeurociÃªncia Cognitiva</option>
                                <option>Epistemologia</option>
                                <option>Filosofia da CiÃªncia</option>
                                <option>Psicologia Experimental</option>
                                <option>Sociologia do Conhecimento</option>
                                <option>InteligÃªncia Artificial</option>
                                <option>Interdisciplinar</option>
                                <option>Outro</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="research-description">DescriÃ§Ã£o do Problema/HipÃ³tese:</label>
                            <textarea id="research-description" rows="4" placeholder="Descreva o problema que considera interessante investigar, possÃ­veis hipÃ³teses, ou questÃµes que gostaria de explorar..." required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="research-methods">PossÃ­veis Abordagens/MÃ©todos:</label>
                            <textarea id="research-methods" rows="3" placeholder="Que mÃ©todos ou abordagens poderiam ser Ãºteis? (experimental, anÃ¡lise conceitual, revisÃ£o sistemÃ¡tica, etc.)"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="submitter-info">Seus dados (opcional):</label>
                            <input type="text" id="submitter-info" placeholder="Nome, formaÃ§Ã£o, instituiÃ§Ã£o (se desejar compartilhar)">
                        </div>
                        <button type="submit" class="submit-btn" aria-label="Submeter ideia de pesquisa">ð¡ Submeter Ideia</button>
                    </form>
                </div>

                <!-- SubmissÃµes da Comunidade -->
                <div class="community-submissions">
                    <h3 style="color: #2c3e50; margin-bottom: 25px;">ð ContribuiÃ§Ãµes da Comunidade</h3>
                    <div id="community-content" style="text-align: center; color: #7f8c8d; padding: 40px; font-style: italic; background: #f8f9fa; border-radius: 12px;">
                        <h4 style="color: #34495e; margin-bottom: 15px;">Em breve...</h4>
                        <p>Este espaÃ§o serÃ¡ preenchido com as contribuiÃ§Ãµes da comunidade.</p>
                        <p>Seja o primeiro a submeter um artigo criado com IA ou uma ideia de pesquisa!</p>
                        <p style="margin-top: 20px; font-size: 0.9em;">
                            <strong>ð¯ Objetivo:</strong> Criar um banco colaborativo de artigos e pesquisas para acelerar o desenvolvimento cientÃ­fico atravÃ©s da epistemologia participativa.
                        </p>
                    </div>
                </div>
            </div>
        </main>

        <aside class="sidebar">
            <div class="author-section">
                <div class="author-avatar">BR</div>
                <div class="author-welcome">
                    <h3>Boas-vindas</h3>
                    <p>OlÃ¡! Sou <strong>Bruno Francisco Prado Rocha</strong>, e Ã© uma honra recebÃª-lo aqui.</p>
                    <div class="author-quote">
                        "Quem aqui entra, faz-me uma honra com sua participaÃ§Ã£o e atenÃ§Ã£o dedicada Ã  minha proposta, porque, em verdade, o conhecimento que ambos almejamos nÃ£o Ã© luxo acadÃªmico, mas ferramenta de agÃªncia."
                    </div>
                </div>
                <p><em>Pesquisador amador e entusiasta da <strong>epistemologia participativa</strong> - a ideia de que a IA pode democratizar o rigor cientÃ­fico, permitindo que mentes curiosas de todas as origens contribuam para o avanÃ§o do conhecimento humano.</em></p>
                <p><em>Acredito que estamos no limiar de uma revoluÃ§Ã£o epistemolÃ³gica: onde a investigaÃ§Ã£o rigorosa deixa de ser privilÃ©gio acadÃªmico e se torna ferramenta acessÃ­vel a todos os que desejam compreender melhor nossa realidade.</em></p>
                <p><em>Este espaÃ§o Ã© um laboratÃ³rio de ideias - onde filosofia encontra neurociÃªncia, onde questÃµes antigas ganham perspectivas contemporÃ¢neas, e onde cada visitante pode participar da grande conversa sobre quem somos e para onde vamos.</em></p>
                <p><em>NÃ£o busco competir com a academia tradicional, mas sim complementÃ¡-la, criando pontes entre curiosidade humana e mÃ©todo cientÃ­fico para formaÃ§Ã£o de algo similar a um banco de ideias para eventualmente ser utilizado pela ciÃªncia formal, Ã  qual reconheÃ§o sua fundamental importÃ¢ncia.</em></p>
                <p><em>Este espaÃ§o Ã© dedicado Ã queles que acreditam que o conhecimento transcende muros institucionais e que, com as ferramentas certas, cada mente inquisitiva pode contribuir para desvelar os mistÃ©rios de nossa realidade emergente.</em></p>
                <p><em>Espero contar com sua singular contribuiÃ§Ã£o e que mais blogs como este se espalhem pela rede para ampliar esse delicioso diÃ¡logo epistÃªmico.</em></p>
            </div>

            <div class="recent-posts">
                <h3>Artigos Recentes</h3>
                <ul id="recent-posts-list">
                    <li><a href="#" onclick="scrollToFirstArticle()">Nenhum artigo disponÃ­vel</a></li>
                </ul>
            </div>

            <div class="categories">
                <h3>Categorias</h3>
                <ul>
                    <li><a href="#" onclick="filterByCategory('Epistemologia')">Epistemologia (<span id="epistemologia-count">0</span>)</a></li>
                    <li><a href="#" onclick="filterByCategory('Filosofia da Mente')">Filosofia da Mente (<span id="filosofia-mente-count">0</span>)</a></li>
                    <li><a href="#" onclick="filterByCategory('Filosofia da CiÃªncia')">Filosofia da CiÃªncia (<span id="filosofia-ciencia-count">0</span>)</a></li>
                    <li><a href="#" onclick="filterByCategory('NeurociÃªncia')">NeurociÃªncia (<span id="neurociencia-count">0</span>)</a></li>
                    <li><a href="#" onclick="filterByCategory('InteligÃªncia Artificial')">InteligÃªncia Artificial (<span id="ia-count">0</span>)</a></li>
                    <li><a href="#" onclick="showAllArticles()">Todos os Artigos (<span id="total-articles-count">0</span>)</a></li>
                </ul>
            </div>
        </aside>
    </div>

    <button class="add-post" disabled title="Funcionalidade em desenvolvimento">+</button>
    <button class="moderator-mode" onclick="openModeratorModal()" aria-label="Abrir painel de moderaÃ§Ã£o">ð¡ï¸ ModeraÃ§Ã£o</button>

    <div class="notification" id="notification"></div>

    <!-- Modal para criaÃ§Ã£o de artigos -->
    <div id="createModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeCreateModal()" aria-label="Fechar modal de criaÃ§Ã£o">Ã</span>
            <h2 style="color: #2c3e50; margin-bottom: 20px;">âï¸ Criar Novo Artigo</h2>
            <p style="color: #666; margin-bottom: 20px;">Use o guia da IA acima para criar artigos ou escreva diretamente aqui.</p>
            <div style="text-align: center; padding: 40px; color: #7f8c8d;">
                <p>ð§ Funcionalidade em desenvolvimento</p>
                <p>Por enquanto, use o formulÃ¡rio de submissÃ£o com Markdown na seÃ§Ã£o principal.</p>
                <button onclick="closeCreateModal()" style="margin-top: 20px; padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer;" aria-label="Fechar modal de criaÃ§Ã£o">Entendi</button>
            </div>
        </div>
    </div>

    <!-- Modal para moderaÃ§Ã£o -->
    <div id="moderatorModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModeratorModal()" aria-label="Fechar modal de moderaÃ§Ã£o">Ã</span>
            <h2 style="color: #2c3e50; margin-bottom: 20px;">ð¡ï¸ Painel de ModeraÃ§Ã£o</h2>
            <div id="moderator-content">
                <div style="margin-bottom: 20px;">
                    <label for="mod-password" style="display: block; margin-bottom: 8px; font-weight: 600;">Senha de ModeraÃ§Ã£o:</label>
                    <input type="password" id="mod-password" placeholder="Digite a senha de moderaÃ§Ã£o" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 5px;" required>
                    <button onclick="authenticateModerator()" style="margin-top: 10px; padding: 10px 20px; background: #8e44ad; color: white; border: none; border-radius: 5px; cursor: pointer;" aria-label="Autenticar como moderador">Entrar</button>
                </div>
                <p style="color: #666; font-style: italic;">Acesso restrito para revisÃ£o e aprovaÃ§Ã£o de submissÃµes.</p>
            </div>
        </div>
    </div>

    <!-- Modal de Preview -->
    <div id="previewModal" class="preview-modal">
        <div class="preview-modal-content">
            <div class="preview-header">
                <h3 id="preview-title">Preview do Artigo</h3>
                <button class="preview-btn close" onclick="closePreviewModal()" aria-label="Fechar modal de preview">â Fechar</button>
            </div>
            <div class="preview-content rendered-content" id="preview-content">
                <!-- ConteÃºdo do preview serÃ¡ inserido aqui -->
            </div>
            <div class="preview-actions" id="preview-actions">
                <!-- AÃ§Ãµes do preview serÃ£o inseridas aqui -->
            </div>
        </div>
    </div>

    <script>
        // Estado global
        let likedArticles = new Set();
        let isModeratorAuthenticated = false;
        let pendingSubmissions = [];
        let approvedArticles = [];
        let submissionIdCounter = 1;
        let articleIdCounter = 1;
        let currentPreviewSubmission = null;

        // Carregar dados salvos ao iniciar
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ð Blog iniciando...');

            try {
                console.log('1. Carregando dados salvos...');
                loadSavedData();
                console.log('â Dados carregados. Artigos aprovados:', approvedArticles.length);

                console.log('2. Limitando tamanho dos dados...');
                limitDataSize();

                console.log('3. Configurando event listeners...');
                setupEventListeners();

                console.log('4. Inicializando artigos...');
                initializeBlogWithArticles();
                console.log('â Artigos inicializados');

                console.log('ð Blog carregado com sucesso!');

                setTimeout(() => {
                    const container = document.getElementById('articles-container');
                    console.log('ð DIAGNÃSTICO FINAL:');
                    console.log('- Container encontrado:', !!container);
                    console.log('- Artigos no container:', container ? container.children.length : 'N/A');
                    console.log('- Artigos aprovados em memÃ³ria:', approvedArticles.length);

                    if (container && container.children.length === 0 && approvedArticles.length > 0) {
                        console.log('â PROBLEMA: Artigos existem em memÃ³ria mas nÃ£o foram renderizados');
                        console.log('ð§ TENTANDO CORRIGIR...');
                        renderAllArticles();
                    }
                }, 1000);
            } catch (error) {
                console.error('â ERRO durante inicializaÃ§Ã£o:', error);
                console.log('ð§ TENTANDO RECUPERAÃÃO...');
                approvedArticles = [];
                renderAllArticles();
            }
        });

        function loadSavedData() {
            try {
                const savedData = JSON.parse(localStorage.getItem('blogData') || '{}');
                pendingSubmissions = savedData.pendingSubmissions || [];
                approvedArticles = savedData.approvedArticles || [];
                submissionIdCounter = savedData.submissionIdCounter || 1;
                articleIdCounter = savedData.articleIdCounter || 1;
                likedArticles = new Set(savedData.likedArticles || []);

                console.log('ð Dados carregados:', {
                    pendingSubmissions: pendingSubmissions.length,
                    approvedArticles: approvedArticles.length
                });
            } catch (e) {
                console.error('â Erro ao carregar dados:', e);
                resetData();
            }
        }

        function limitDataSize() {
            if (pendingSubmissions.length > 50) {
                pendingSubmissions = pendingSubmissions.slice(-50);
                console.log('ðï¸ Limitando submissÃµes pendentes a 50');
            }
            if (approvedArticles.length > 20) {
                approvedArticles = approvedArticles.slice(-20);
                console.log('ðï¸ Limitando artigos aprovados a 20');
            }
        }

        function resetData() {
            pendingSubmissions = [];
            approvedArticles = [];
            submissionIdCounter = 1;
            articleIdCounter = 1;
            likedArticles = new Set();
        }

        function saveData() {
            try {
                limitDataSize();
                const data = {
                    pendingSubmissions,
                    approvedArticles,
                    submissionIdCounter,
                    articleIdCounter,
                    likedArticles: Array.from(likedArticles),
                    lastSaved: new Date().toISOString()
                };

                const dataStr = JSON.stringify(data);
                if (dataStr.length > 4 * 1024 * 1024) {
                    console.warn('â ï¸ Dados muito grandes, reduzindo tamanho...');
                    pendingSubmissions = pendingSubmissions.slice(-25);
                    approvedArticles = approvedArticles.slice(-10);
                    data.pendingSubmissions = pendingSubmissions;
                    data.approvedArticles = approvedArticles;
                }

                localStorage.setItem('blogData', JSON.stringify(data));
                console.log('ð¾ Dados salvos (otimizado)');
            } catch (e) {
                console.error('â Erro ao salvar dados:', e);
                if (e.name === 'QuotaExceededError') {
                    showNotification('Armazenamento local cheio! Reduzindo dados automaticamente.', 'error');
                    pendingSubmissions = pendingSubmissions.slice(-10);
                    approvedArticles = approvedArticles.slice(-5);
                    saveData();
                }
            }
        }

        setInterval(saveData, 120000);
        window.addEventListener('beforeunload', saveData);

        function setupEventListeners() {
            const markdownForm = document.getElementById('markdown-form');
            if (markdownForm) {
                markdownForm.addEventListener('submit', handleArticleSubmission);
                const fileInput = document.getElementById('article-file');
                if (fileInput) {
                    fileInput.addEventListener('change', handleFileUpload);
                }
                markdownForm.querySelectorAll('input, textarea, select').forEach(input => {
                    input.addEventListener('invalid', () => {
                        showNotification(`Campo "${input.labels[0]?.textContent || input.placeholder}" Ã© obrigatÃ³rio.`, 'error');
                    });
                });
            }

            const researchForm = document.getElementById('research-form');
            if (researchForm) {
                researchForm.addEventListener('submit', handleResearchSubmission);
                researchForm.querySelectorAll('input, textarea, select').forEach(input => {
                    input.addEventListener('invalid', () => {
                        showNotification(`Campo "${input.labels[0]?.textContent || input.placeholder}" Ã© obrigatÃ³rio.`, 'error');
                    });
                });
            }
        }

        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (!file) return;

            if (!file.name.endsWith('.md')) {
                showNotification('Por favor, envie um arquivo com extensÃ£o .md', 'error');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                const markdownContent = e.target.result;
                document.getElementById('article-markdown').value = markdownContent;
                showNotification('Arquivo Markdown carregado com sucesso!', 'success');
            };
            reader.onerror = function() {
                showNotification('Erro ao ler o arquivo Markdown.', 'error');
            };
            reader.readAsText(file);
        }

        function handleArticleSubmission(e) {
            e.preventDefault();

            const markdownContent = document.getElementById('article-markdown').value.trim();
            const category = document.getElementById('article-category').value;
            const tags = document.getElementById('article-tags').value;
            const additionalAuthors = document.getElementById('additional-authors').value;
            const notes = document.getElementById('submission-notes').value;

            if (!markdownContent) {
                showNotification('Por favor, cole o conteÃºdo do artigo em Markdown ou carregue um arquivo .md.', 'error');
                return;
            }

            const metadata = extractMetadata(markdownContent);

            // ValidaÃ§Ãµes adicionais
            if (!metadata.title) {
                showNotification('Artigo deve ter um tÃ­tulo (linha comeÃ§ando com #).', 'error');
                return;
            }
            if (!metadata.abstract) {
                showNotification('Artigo deve ter um resumo (seÃ§Ã£o ## Resumo).', 'error');
                return;
            }
            const referenceMatch = markdownContent.match(/##\s+ReferÃªncias?\s*\n([\s\S]*?)(?=\n##|\n#|$)/);
            if (!referenceMatch || !referenceMatch[1].match(/\d+\.\s+.+/)) {
                showNotification('Artigo deve ter uma seÃ§Ã£o de referÃªncias com pelo menos 15 entradas.', 'error');
                return;
            }
            const referencesCount = (referenceMatch[1].match(/\d+\.\s+.+/g) || []).length;
            if (referencesCount < 15) {
                showNotification(`Artigo deve ter pelo menos 15 referÃªncias (encontradas: ${referencesCount}).`, 'error');
                return;
            }
            if (!markdownContent.includes('|')) {
                showNotification('Artigo deve conter pelo menos uma tabela no formato Markdown.', 'error');
                return;
            }

            const submission = {
                id: submissionIdCounter++,
                type: 'article',
                title: metadata.title,
                category: metadata.category || category,
                readTime: metadata.readTime || estimateReadTime(markdownContent),
                author: metadata.author || 'AnÃ´nimo',
                coauthors: metadata.coauthors || additionalAuthors,
                abstract: metadata.abstract,
                content: markdownContent,
                tags: tags.split(',').map(tag => tag.trim()).filter(tag => tag),
                notes: notes,
                submittedAt: new Date().toISOString(),
                status: 'pending'
            };

            pendingSubmissions.push(submission);
            saveData();

            console.log('ð Nova submissÃ£o:', submission);

            showNotification('Artigo submetido com sucesso! Aguarde a revisÃ£o.', 'success');

            document.getElementById('markdown-form').reset();
            updateCommunitySection();
        }

        function estimateReadTime(content) {
            const words = content.split(/\s+/).length;
            const minutes = Math.ceil(words / 200);
            return `${minutes} min de leitura`;
        }

        function extractMetadata(content) {
            const metadata = {
                title: '',
                category: '',
                readTime: '',
                author: '',
                coauthors: '',
                abstract: ''
            };

            const lines = content.split('\n');
            for (let i = 0; i < lines.length; i++) {
                const line = lines[i].trim();
                if (line.startsWith('# ')) {
                    metadata.title = line.substring(2).trim();
                } else if (line.match(/^\*\*Categoria:\*\*\s*(.+)/)) {
                    metadata.category = line.match(/^\*\*Categoria:\*\*\s*(.+)/)[1].trim();
                } else if (line.match(/^\*\*Tempo de leitura:\*\*\s*(.+)/)) {
                    metadata.readTime = line.match(/^\*\*Tempo de leitura:\*\*\s*(.+)/)[1].trim();
                } else if (line.match(/^\*\*Autor:\*\*\s*(.+)/)) {
                    metadata.author = line.match(/^\*\*Autor:\*\*\s*(.+)/)[1].trim();
                } else if (line.match(/^\*\*Coautores:\*\*\s*(.+)/)) {
                    metadata.coauthors = line.match(/^\*\*Coautores:\*\*\s*(.+)/)[1].trim();
                } else if (line.match(/^##\s+Resumo/)) {
                    let abstractLines = [];
                    for (let j = i + 1; j < lines.length; j++) {
                        if (lines[j].match(/^##/)) break;
                        if (lines[j].trim()) abstractLines.push(lines[j].trim());
                    }
                    metadata.abstract = abstractLines.join(' ');
                }
            }
            return metadata;
        }

        function handleResearchSubmission(e) {
            e.preventDefault();

            const title = document.getElementById('research-title').value.trim();
            const field = document.getElementById('research-field').value;
            const description = document.getElementById('research-description').value.trim();
            const methods = document.getElementById('research-methods').value.trim();
            const submitterInfo = document.getElementById('submitter-info').value.trim();

            if (!title || !description) {
                showNotification('Por favor, preencha o tÃ­tulo e a descriÃ§Ã£o da ideia de pesquisa.', 'error');
                return;
            }

            const submission = {
                id: submissionIdCounter++,
                type: 'research',
                title: title,
                field: field,
                description: description,
                methods: methods,
                submitterInfo: submitterInfo,
                submittedAt: new Date().toISOString(),
                status: 'pending'
            };

            pendingSubmissions.push(submission);
            saveData();

            console.log('ð¡ Nova ideia de pesquisa submetida:', submission);

            showNotification('Ideia de pesquisa submetida com sucesso! Aguarde a revisÃ£o.', 'success');

            document.getElementById('research-form').reset();
            updateCommunitySection();
        }

        function initializeBlogWithArticles() {
            renderAllArticles();
            updateCommunitySection();
        }

        function renderAllArticles() {
            const container = document.getElementById('articles-container');
            container.innerHTML = '';

            if (approvedArticles.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; color: #7f8c8d; padding: 40px; font-style: italic;">
                        <h4 style="color: #34495e; margin-bottom: 15px;">Nenhum artigo publicado ainda</h4>
                        <p>Submeta seu artigo ou ideia de pesquisa para comeÃ§ar a construir nosso banco de conhecimento colaborativo!</p>
                    </div>
                `;
            } else {
                approvedArticles.forEach(article => {
                    const articleHtml = createArticleHTML(article);
                    container.insertAdjacentHTML('beforeend', articleHtml);
                });
            }

            updateSidebarCounts();
            console.log('ð° Artigos renderizados:', approvedArticles.length);
        }

        function createArticleHTML(article) {
            const processedContent = parseMarkdown(article.content, true);
            const safeTitle = sanitizeHTML(article.title);
            const safeAuthor = sanitizeHTML(article.author);
            const safeCategory = sanitizeHTML(article.category);
            const safeReadTime = sanitizeHTML(article.readTime);
            const safeAbstract = article.abstract ? sanitizeHTML(article.abstract) : '';

            return `
                <article class="article" id="article${article.id}">
                    <div class="article-meta">
                        <span class="article-author">${safeAuthor}</span>
                        <span class="article-category">${safeCategory}</span>
                        <span class="article-time">${safeReadTime}</span>
                    </div>
                    <h2